
// ------------------------Available Subjects--------------------------------------------------
const qEnglish = [
	["Our instructor gave us the impression that the problem was <span style='text-decoration:underline;'>complicated</span> but we found it ________",
	"light","mysterious","simple","hard","C"],

	["It is no longer a matter of <span style='text-decoration:underline;'>choice</span> but ________ to have basic education in our country.",
	"request","command","determination","compulsion","D"],

	["Despite Joseph's claim that he killed the dog _________, the owner insists that he did it <span style='text-decoration:underline;'>deliberately</span>.",
	"instantly","accidentally","angrily","forcefully","B"],

	["If our <span style='text-decoration:underline;'>ancestors</span> preserved the culture for us, why can't we do the same for our _________?",
	"siblings","kinsmen","predecessors","descendants","D"],

	["While Mr. Samson is <span style='text-decoration:underline;'>theoretical</span> about upbringing of children, his wife is _________.",
	"pragmatic","subjective","sceptical","logical","A"],

	["Whether you <span style='text-decoration:underline;'>commend</span> the boys or _________ them, they are determined to do their best.",
	"control","confuse","condemn","abuse","C"],

	["The <span style='text-decoration:underline;'>hope</span> with which he assumed office contrasts with the _________ with which he is leaving.",
	"disgust","distress","distrust","despair","D"],

	["The <span style='text-decoration:underline;'>landing</span> of a plane is more frightening than its _________",
	"taxiing","take-off","flying","descent","B"],

	["I prefer the <span style='text-decoration:underline;'>exact</span> rather than an  _________ figure.",
	"elusive","appropriate","approximate","inflated","C"],

	["Although the students were <span style='text-decoration:underline;'>content</span> with the new welfare arrangement, their representatives were _________ with it",
	"annoyed","unhappy","discouraged","dissatisfied","D"],

	["The car crashed into a _________ vehicle when the driver lost control.",
	"stationary","stagnant","stationed","stationery","A"],

	["I told you before the match started that my team would _________ yours.",
	"win","lose","beat","score","C"],

	["The Literature teacher instructed us to memorize the first and second _________ of the poem.",
	"stanzas","chapters","paragraphs","sections","A"],

	["Gambo was arrested while _________ his late brother as a military oficer.",
	"imitating","personifying","impersonating","copying","C"],

	["Some church members came to _________ with me on the death of my father.",
	"counsel","console","commiserate","associate","C"],

	["On that _________ day, nearly five hundred people died in a pipeline explosion.",
	"faithful","unhappy","fateful","frightful","C"],

	["He came to the _________ only two years ago when he won a gold medal.",
	"show","front","limelight","position","C"],

	["The Road Safety officials will soon be _________ by the government to carry guns.",
	"authorized","expected","invited","approved","A"],

	["The sale of certain drugs is <span style='text-decoration:underline;'>restricted</span> to adults.",
	"limited","confined","extended","controlled","A"],

	["His attempts to claim the child proved <span style='text-decoration:underline;'>futile</span>.",
	"uncertain","abortive","senseless","risky","B"],

	["These days, most businessmen are very <span style='text-decoration:underline;'>crafty</span>.",
	"extravagant","skillful","cunning","wise","C"],

	["This kind of music is <span style='text-decoration:underline;'>inappropriate</span> for such a solemn ceremony.",
	"unfashionable","indecent","unsuitable","insufficient","C"],

	["The clash between the two communities was a great <span style='text-decoration:underline;'>calamity</span>.",
	"shame","disaster","accident","problem","B"],

	["The negotiations ended <span style='text-decoration:underline;'>amicably</span> to the surprise of the warring factions.",
	"violently","abruptly","harmoniously","suspiciously","C"],

	["We did not like him because he was <span style='text-decoration:underline;'>headstrong</span>.",
	"wicked","rude","unreliable","stubborn","D"],

	["His mission was to <span style='text-decoration:underline;'>enlighten</span> his people about the proposed project.",
	"strengthen","remind","educate","task","C"],

	["The Council of Elders _________ advised youths to desist from telling lies.",
	"have","have been","has","has been","C"],

	["On my way to the airport, I _________ an old classmate.",
	"ran by","ran in","ran into","ran across","C"],

	["Their ideas are similar, aren't they? Yes, _________ .",
	"there are","are they","they are","it is","C"],

	["The team was to leave Lagos _________ Accra at 4.15 a.m. on Tuesday.",
	"for","to","from","by","A"],
];
const qMaths = [
	["Express 10000800 in standard form.",
	"1.00008 x 10<sup>7</sup>","1.00008 x 10<sup>5</sup>","1.00008 x 10<sup>2</sup>", "1.00008 x 10<sup>-7</sup>", "A"],

	["Evaluate 11011<sub>two</sub> + 11110<sub>two</sub>",
	"111010<sub>two</sub>","111001<sub>two</sub>","110001<sub>two</sub>","101001<sub>two</sub>","B"],
	
	["Let U = {1,2,3,4, ..., 10},<br>A = {odd numbers up to 9} and<br>B = {numbers less than 7}.<br><br>Find A ᴜ U",
	"{1,2,3,4,5,6,7,8,9,10}","{1,2,3,4,5,6,7,9}","{1,3,5,7,8,9,10}","{1,2,3,4,10}","A"],

	["Evaluate (3√3-√6)(√6+3√3)",
	"21","16","12", "9", "A"],
	
	["Express 0.0040752 to three significant figures.",
	"0.00475","0.0041","0.00408", "0.004", "C"],
	
	["The product of three numbers is 3876. Two of the numbers are 17 and 19. What is the third number?",
	"57","12","6", "3", "B"],
	
	["Find the 6th term of the Geometric Progression (G.P) -108, -36, -12, ....",
	"2<small>1/4</small>","4/9","-4/9", "-1<small>1/3</small>", "C"],
	
	["Given that ¼log<sub><small>10</small></sub> M = 10<sup><small>0</small></sup>. Find the value of M",
	"10000","1000","4", "10", "A"],
	
	["Th sum of an Arithmetic Progression(A.P.) is 561. If the first and last terms are 2 and 100 respectively, find the number of terms",
	"13","11","10", "6", "B"],
	
	["Find the principal which amounts to ₦72,800.00 at simple interest in 4 years at 3% per annum.",
	"₦68,736.00","₦67,800.00","₦65,000.00", "₦8,736.00", "C"],
	
	["Solve the simultaneous equations:<br>3x - 5y = 5, x + 10y = 4",
	"x = 2, y = 1/5","x = -1/5, y = 2","x = -1/5, y = -2", "x = 1/2, y = 1/5", "A"],
	
	["Calculate the compound interest, if ₦120,000.00 is borrowed for 3 years at 16% per annum.",
	"₦187,307.52","₦167,307.52","₦67,307.52", "₦21,307.52", "C"],
	
	["Find the value of x for which x<sup>2</sup>-4/2(x+5) is undefined.",
	"5","2","-4", "-5", "D"],
	
	["For what value of k is the expression 4x<sup>2</sup> + 8x + k a perfect square?",
	"64","32","16", "8", "C"],
	
	["Find the gradient and y-intercept of line 2x - 5y = 10.",
	"3/5, 3","2/5, -2","1/5, -1", "-2/5, 2", "B"],
	
	["Solve the equation x<sup>2</sup> - 2x - 3 = 0.",
	"x = 1 or 3","x = -3 or 1","x = -3 or -1", "x = -1 or 3", "D"],
	
	["Evaluate (ax<sup>2</sup> +bx + c)/(mx + c), if<br>a = 2, b = 3,c = 4, m = 1 and x = -2.",
	"5","3","-1", "-3", "B"],
	
	["Find y<sup>2</sup> - 6y - 7.",
	"(y + 1)(y + 7)","(y + 1)(y - 7)","(y - 2)(y - 4)", "(y - 1)(y + 7)", "B"],
	
	["Given that x/y = 2/3, evaluate (2x + y)/(2x - y)",
	"7","4","2", "1/2", "A"],
	
	["For what values of x is the fraction (x<sup>2</sup> - x - 6) / 3(x - 4) equals to zero?",
	"x = -2 or -3","x = -2 or 3","x = 0 or 4", "x = 2 or -3", "B"],
	
	["If x varies directly as y and x = 4 when y = 6,<br>find the value of x when y = 12.",
	"4","6","8", "12", "C"],
	
	["Find the quadratic equation whose roots are 2√2 and 3√2",
	"2x<sup>2</sup> - 5√2x = -12","x<sup>2</sup> - 5√2x = 12","x<sup>2</sup> - 5√2x = -12", "x<sup>2</sup> + 5√2x = 12", "C"],
	
	["If the volume of a sphere is 360cm<sup>3</sup>, calculate its radius to 1 decimal place.",
	"4.5 cm","3.5 cm","3.4 cm", "3.1 cm", "D"],
	
	["The position of two points A and B on the earth surface<br>are (20<sup>0</sup>S, 30<sup>0</sup>E) and (65<sup>0</sup>S, 30<sup>0</sup>E) respectively.<br> Find their distance apart along the great circle.",
	"9,496 km","5,027 km","4,748 km", "251 km", "B"],
	
	["A man 25m tall, observes that the angle of elevation of the top of a pole 20m away is 25<sup>0</sup><br>. Find the height of the pole.",
	"54.3 m","44.3 m","34.3 m", "24.3 m", "C"],
	
	["Calculate without using tables: cos 60<sup>0</sup> + tan 45<sup>0</sup>",
	"2<small>1/3</small>","1<small>1/2</small>","1<small>2/3</small>", "1/2", "B"],
	
	["Find the range of the following set of numbers:<br>26,21,22,24,22,23,29",
	"8","6","4", "3", "A"],
	
	["If the mean of the following set of numbers: 1,2,3,x,4,5 is 10,<br>find the value of x.",
	"10","35","20", "45", "D"],
	
	["If y = 2x<sup>3</sup> - 6x<sup>2</sup> + 3x + 10,<br>find the second derivative(d<sup>2</sup>y/dx<sup>2</sup>) at x = -1.",
	"24","9","0", "-9", "C"],
	
	["Find the derivative of y = (2x<sup>2</sup> + 7)<sup>-3</sup>",
	"x(2x<sup>2</sup> + 7)<sup>-4</sup>","6x(2x<sup>2</sup> + 7)<sup>-4</sup>","12x(2x<sup>2</sup> + 7)<sup>4</sup>", "-12x(2x<sup>2</sup> + 7)<sup>-4</sup>", "D"],
	
	["The distance S metres travelled by a particle after t seconds is given by<br>S = t<sup>2</sup> + 3t + 8. Find the velocity after 5 seconds",
	"13 m/s","10 m/s","7 m/s", "5 m/s", "B"],
	];
const qBasicScience = [
	["Backbone helps human being to _________",
	"feed their young ones","think","see","walk properly","D"],
	
	["Deforestation is defined as _________",
	"bush burning","farming","felling of trees","weeding","C"],
	
	["Flooding occurs mostly in ",
	"tropical season","dry season","raining season","high temperature","C"],
	
	["The control center of the body is _______",
	"brain","kidney","heart","eye","A"],
	
	["Fishes move in the water with the aid of _________",
	"wings","claws","fins","feathers","C"],
	
	["In females, the enlargement of the breast starts at _______",
	"adolescence","old age","childhood","adulthood","A"],
	
	["A child of two weeks is called _______",
	"adult","child","baby","neonate","D"],
	
	["Wind erosion is common in which part of Nigeria?",
	"Western region","Eastern region","Northern region","Southern region","C"],
	
	["The increase in the earth's temperature is called ________",
	"atmospheric heating","depletion","global warming","green house effect","C"],
	
	["The physical appearance of an individual is known as _______",
	"alleles","heterozynous","phenotypes","genotypes","A"],
	
	["The transfer of thermal energy in liquids is called _______",
	"conduction","sublimation","convection","polarization","A"],
	
	["The phenomenon of apparent depth can be explained by _________",
	"brownian motion","radiation","reflection","refraction","D"],
	
	["Metal can be beaten into sheet because they are _______",
	"dense","strong","durable","malleable","D"],
	
	["Which of these describes the change of state from solid to gas?",
	"Diffusion","Evaporation","Sublimation","Osmosis","C"],
	
	["The smallest unit of a substance that can exist separately is ________",
	"compound","ion","element","molecule","D"],
	
	["Kinetic theory assumes that partcles of gas are in constant _______",
	"change","motion","state","position","B"],
	
	["The process whereby a matter changes from solid to liquid is called ________",
	"precipitation","evaporation","melting","diffusion","C"],
	
	["One of these can exhibit compressibility",
	"Gas only","Liquid only","Solid only","Solid and gas","A"],
	
	["Which of the foolowing energy source is NOT derived from petroleum?",
	"Diesel","Natural gas","Kerosene","Water","D"],
	
	["The change in the direction of light as it passes from one medium to another is _______",
	"radiation","refraction","conduction","reflection","B"],
	
	["Which of these is NOT a laboratory equipment?",
	"Burette","Test tube","Fire stand","Bunsen burner","C"],
	
	["The mixture of sand and kerosene can be separated by _______ .",
	"evaporation","filtration","distillation","plastic","B"],
	
	["Potential energy has its formula as ________",
	"Joule(J)","mgh","Newton(N)","1/2mv<sup>2</sup>","B"],
	
	["The following are examples of biodegradable materials EXCEPT _______",
	"banana","nylon bag","yam peelings","orange peels","B"],
	
	["_______ is the existence of atoms of an element having the same atomic number but different mass number.",
	"Element","Isotopy","Nuclide","Nucleus","B"],
	
	["The following are sources of chemical energy EXCEPT _________",
	"Air","Firewood","Kerosene","Diesel","A"],
	
	["Energy that stimulates the sense of our vision is termed _________",
	"chemical energy","beam light","kinetic energy","light energy","D"],
	
	["Calulate the workdone by a body of weight 200N that moves through a distance of 5 meters.",
	"40 J","205 J","1000 J","1050 J","C"],
	
	["The rotation of the fan blade shows that electrical energy has been converted to ______ energy.",
	"rotational","heat","mechanical","sound","C"],
	
	["Which of these does the same work as a fuse in an electic circuit?",
	"Voltmeter","Circuit breaker","Ohmmeter","Ammeter","B"],
	
	["The ratio of work output of a machine to the work input is known as _______",
	"efficiency","revolution","friction","workdone","A"]
	];
	
	
const qBasicTech = [
	["Which of these is not a pure metal?",
	"Brass","Copper","Aluminium","Tin","A"],

	["Which of these is not an alloy?",
	"Duralumin","Brass","Zinc","Bronze","C"],

	["__________ is a hard material formed when cement is mixed with sand and water only with sand, gravel, broken stones and water",
	"Limestone","Concrete","Ceramics","Granite","B"],

	["Vulcanisation is a special chemical treatment where ________ is added to raw rubber and heated at a high temperature.",
	"Carbon","Oxygen","Sulphur", "Hydrogen","C"],

	["A metal can be changed into molten state by_______",
	"continuous heating until it becomes soft","heating at very high temperatures","leaving it under the sun", "applying chemicals","B"],

	["_______ is a milk-like liquid substance found under the bark of rubber tree",
	"latex", "pulp","gum","wax","A"],

	["A furnace or oven specially designed for baking finished wet clay products is called_______",
	"baker", "burner","microwave","kiln","D"],

	["The type of metal which contains iron is called _______",
	"iron metal", "non-ferrous metal","alloy metal","ferrous metal","D"],

	["Carbon is added to pure refined iron to produce ______",
	"steel", "ore","pig iron","gangue","A"],

	["The major raw materials for making cement are ______ and _______",
	"dust, limestone", "clay, sand","clay, limestone","sand, limestone","C"],

	["The process of hardening a pot to make the pot stronger is known as ________",
	"seasoning","thickening","baking", "frying","C"],

	["________ are used to protect the hands during electrical wirings.",
	"Metal clips","Hand gloves","masking tapes", "Table clothes","B"],

	["Which of the following is an electrical wiring tools?",
	"Saw","File","Plier", "Pulley","C"],

	["Socket outlets provide means of connecting to live, neutral and _________ terminals.",
	"negative","positive","earth", "static","C"],

	["Timber is obtained from the _________ of trees.",
	"leaves and stems","roots and twigs","flowers and seeds", "trunk and branches","D"],

	["Steel with carbon content above 0.8% is called _________ steel.",
	"mild","hard","core", "tool","D"],

	["Articles made from clay are called ________.",
	"blocks","rubber","glass", "ceramics","D"],

	["Concave or convex curve along the length of a plank is a wood defect called _________",
	"twist","bow","cup", "check","B"],

	["________ method is a way of making thermoplastics.",
	"Kiln","Pinch","Injection", "Plunger","C"],

	["Machines that operate mainly with fluid are _______.",
	"hydraulic","pneumatic","milling", "gas","A"],

	["The products made by combining two or more metallic elements is ________.",
	"an aluminum","an alloy","a brass", "a bronze","B"],

	["Belt drives are driven by ________",
	"gear","machine","pulley", "shaft","C"],

	["An example of sanitary fitting in a building is __________",
	"urinad","elbow","tap", "defects","B"],

	["An example of natural defect is ________",
	"bow","knot","twisting", "wanes","B"],

	["Metals are classified into pure metals and ________",
	"alloy","non-ferrous metals","ferrous metals", "carbon steel","A"],

	["The machine used in banks for financial transaction is referred to as ________",
	"Automated Teller Motor","Automating Teller Model","Automation Teller Machine", "Automated Teller Machine","D"],

	["The wood obtained from deciduous tree is called ________",
	"sapwood","Mahogany wood","hardwood", "cherrywood","C"],
	
	["Tile used for walls and floors in building is a product from  ________",
	"metals","glass","concrete", "ceramics","D"],
	
	["Which of the following is an example of non-ferrous metal?",
	"Carbon","Steel","Magnet", "Copper","D"],
	
	["Which of the following is used as head protection device in workshop?",
	"head belt","helmet","fez cap", "shield","B"]
	];
const qComputer = [
	["Examples of application software include _______"
	,"MS Excel","MS-DOS","UNIX","LINUX","A"],
	
	["The following are examples of Operating System except ______"
	,"Windows","Linux","Adobe PageMaker","Mac","C"],
	
	["Convert 30 to Hexadecimal:"
	,"1E","1A","2F","1F","A"],
	
	["Convert 111101<sub>two</sub> to decimal:"
	,"16","61","72","85","B"],
	
	["Binary digit is also known as _______"
	,"byte","bit","nibble","integer","B"],
	
	["The intersection of row and column in spreadsheet application is called _______"
	,"column-row","worksheet","cell","box","C"],
	
	["Another name for the Monitor is _______"
	,"VDU","DUC","Display","FTP","A"],
	
	["Information displayed on the monitor screen is _________"
	,"hard copy","carbon copy","bind copy","soft copy","D"],
	
	["The longest key on the keyboard is _________"
	,"Return key","Space bar","Control key","Enter key","B"],
	
	["There are _______ bits in a byte"
	,"2","4","6","8","D"],
	
	["How many kilobytes make 1 megabyte?"
	,"1000kb","1024kb","1080kb","1200kb","B"],
	
	["A presentation is created using _________:"
	,"MS Excel","MS-PowerPoint","CorelDraw","Adobe PhotoShop","B"],
	
	["What is the full meaning of BASIC?"
	,"Beginners All-Purpose Symbolic Instructional Code","Basic All-Purpose Symbolic Instructional Code","Beginners All-Purpose Symbolic Interaction Code","Basic All-Purpose Symbolic Interaction Code","A"],
	
	["The software designed for cleaning off or preventing virus attack in the computer system is called _______"
	,"virus cleaner","virus proof","anti-virus","vacuum cleaner","C"],
	
	["What is the output of the following program segment?:<br>A = 10<br>C = A ^ 2<br>PRINT C"
	,"2","102","20","100","D"],
	
	["Deleted files in the computer can be found in the _____"
	,"Storage box","Desktop","Library","Recycle bin","D"],
	
	["Storage currently in use when processing data is _______"
	,"RAM","Flash drive","ROM","Hard drive","A"],
	
	["The part of a computer which holds data and instructions"
	,"Arithmetic and Logic Unit(ALU)","Memory Unit","Control Unit","Instructional Unit","B"],
	
	["The lowest unit of measuring information in a computer is _________"
	,"byte","bit","megabyte","nibble","B"],
	
	["Information stored in RAM is _________"
	,"volatile","non-volatile","permanent","portable","A"],
	
	["A set of instructions which tells the computer what to do is called ________"
	,"Algorithm","Data Structure","Program","Software","C"],
	
	["A step-by-step procedure designed towards solving a certain problem is know as __________"
	,"Algorithm","Data Structure","Program","Software","A"],
	
	["The method of recording and handling of data that makes it neccessary for conversion is __________"
	,"Collation","Gathering","Processing","Storage","A"],
	
	["The process of going into someone's files on the internet without permission is _________"
	,"fraud","hacking","piracy","plagiarism","B"],
	
	["Using CTRL + V keys in the word processing can ensure the _________ of files/documents"
	,"loading","saving","moving","pasting","D"],
	
	["A unique field within a data record which identifies other record is _________"
	,"data","entity","keys","schema","C"],
	
	["The database that has a tree-like structure is said to be ________"
	,"flat","hierarchical","network","relational","B"],
	
	["________ is a selected file in a table that uniquely identifies a record."
	,"entity key","primary key","secondary key","selected key","B"],
	
	["The following BASIC program is written to _______ .<br><small>INPUT LENGTH; A</small><br><small>INPUT WIDTH; B</small><br><small>LET C = A * B</small><br><small>PRINT C</small><br><small>END</small>"
	,"Multiply two numbers A and B","Multiply two numbers A and C","Multiply three numbers A, B and C","Add two numbers A and B","A"],
	
	["The following are programming languages except ______"
	,"Java","JavaScript","Python","PowerPoint","D"]
	];
	
// ---------------------------------------------------------------------------------------------------------------------------------
let pos = 0;
let question;
let optionA;
let optionB;
let optionC;
let optionD;
let start = document.querySelector("#start");
let displayArea = document.querySelector(".cont-portal-body");
let subject = "";
let quesList = null;
let next = document.querySelector("#next");
let prev = document.querySelector("#prev");
let page = document.querySelector("#page");
let send = document.querySelector("#send");
let menu = document.querySelector("#menu");
let menuBar = document.querySelector("#menu-bar");
let submitted = false;
let timeOut;
let home = document.querySelectorAll(".home");
let portfolio = document.querySelectorAll(".portfolio");
let contact = document.querySelectorAll(".contact");
let displayPortfolio = document.querySelector("#show-portfolio");
let displayContact = document.querySelector("#show-contact");
let pressMenu = true;
let okay = document.querySelector("#ok");
let cancel = document.querySelector("#cancel");

let chooseSubject = document.querySelector("#choose-subject");
let subjectOptions = document.querySelector("#subject");
let reTake = document.querySelector("#retake");

let selectionArea = document.querySelector("#subject-option");
let allocatedTime = 0;

//users can retake the test
reTake.addEventListener("click", () => {
	document.querySelector("#ctn-retake").style.display = "none";
	render(quesList);
	
})
//this shows the developer's portfolio on the DOM
function showPortfolio(tag){
	displayArea.innerHTML = displayPortfolio.innerHTML;		//transfer the whole content of the portfolio section on the DOM to the display area
	menuBar.style.display = "none";
}

//this shows the developer's contact on the DOM
function showContact(tag){
	displayArea.innerHTML = displayContact.innerHTML;		//transfer the whole content of the CONTACT section on the DOM to the display area
	menuBar.style.display = "none";
}

window.addEventListener("load", () =>{subject = ""});

home.forEach(element => {
	element.addEventListener("click", () => {
		location.reload(); 						//refresh the app to go start all over
	});	
});

portfolio.forEach(element => {
	element.addEventListener("click", showPortfolio);
})

contact.forEach(element => {
	element.addEventListener("click", showContact);
})

cancel.addEventListener("click", () => {document.querySelector("#confirmation").style.visibility = "hidden";})	//give the user a chance to reconsider

okay.addEventListener("click", () => {
	clearTimeout(timeOut);									//stop the timer
	let result = displayResult();							//compute the result of the just concluded test
	submitted = true;										//the user has submitted and seen the results
	let percent = ((result/quesList.length)*100).toFixed(1);	//compute the percent to 1 decimal place
	displayArea.style.setProperty("align-items","center");		//re-adjust the display area to center the content
	displayArea.style.setProperty("padding-bottom","0px");
	displayArea.style.setProperty("padding-left","0px");
	displayArea.innerHTML= `<p>You answered ${result} of ${quesList.length} questions correctly.</p><br><br>`;
	displayArea.innerHTML+= `<p>Your score is <span style="font-size:1.5rem; font-weight:bolder;">${percent}%</span></p>`;
	document.querySelector("nav").style.visibility = "hidden";
	document.querySelector("#ctn-retake").style.display = "block";
	document.querySelector("#confirmation").style.visibility = "hidden";
	prev.style.visibility = "hidden";
	send.style.display = "none";
	});

menu.addEventListener("click", () => {				//hide and display the menu bar
	if(pressMenu){									//show it
		menuBar.style.display = "block";
		pressMenu = false;
	}
	else{
		menuBar.style.display = "none";				//hide it
		pressMenu = true;
	}
	
})

addEventListener("click", event => {		//Alternative to using the menu button to hide the menu bar
	let x = document.body.clientWidth;		 //the with of the page
	let y = document.body.clientHeight;		//the height of the page
	
	//the user only needs to click anywhere on the page outside the menu bar to hide it
	//since the height and width of the bar are 60% and 40% of the page respectively
	//the click that will hide the menu bar must happen at a point farther than the 40% and 60% width and height of the page respectively
	if(event.target.getAttribute("id") != "menu" && (event.clientX > (x * 0.4) || event.clientY > (y * 0.6))){
		menuBar.style.display = "none";
	}
});

//show available subject oprions to the users
chooseSubject.addEventListener("click", () => {
	chooseSubject.style.display = "none";
	subjectOptions.style.display = "block";
	subjectOptions.style.animation="slide 0.2s linear normal";
 });
 
subjectOptions.addEventListener("click", event => {
	subject = event.target.textContent;				//users choose a subject
	switch(subject){
		case "MATHEMATICS":
			allocatedTime = 40;				//allocate 40 minutes to Mathematics only
			break;
		default:
			allocatedTime = 20;
			break;						// allocate 20 minutes to all other subjects;	
	}
	selectionArea.innerHTML = `You have <span style="font-weight:bolder;">${allocatedTime} minutes</span> for this test.`;
	start.style.display = "block";
	
})

addEventListener("click", event => {
	if(event.target.nodeName == "INPUT"){						//ok. Maybe the tag clicked was input tag
		event.target.setAttribute("checked",true);			
		let allOptions = Array.from(document.querySelectorAll("input"));	//get all the input tags on the DOM
		for(let each of allOptions){
			if(each.getAttribute("checked") && each == event.target){		//which of the input was selected?
				if(quesList[pos].length == 6){								//the question has not been answered already
					quesList[pos].push(each.value);							//take note of the content of the option selected
					quesList[pos].push(allOptions.indexOf(each));			//take note of the option selected
				}
				else{																//oh the question had already been answered, the user only wants to change his/her mind
					quesList[pos][quesList[pos].length - 2] = each.value;					//modify and take note of the content of the new choice
					quesList[pos][quesList[pos].length - 1] = allOptions.indexOf(each);		//note the new option selected	
				}
			}
			else{
				each.removeAttribute("checked");									//double sure that the option the user selected is the only one remaining selected
			}
		}
	}
});

//this computes the number of quuestions the user answered correctly
function displayResult(){
	let count = 0;
	for(let list of quesList){
		if(list.length == 8 && list[5] == list[6]){  //a list of length 8 here means that this particular question was answered
			count++;								//although the app will not allow any question to be left unanswered before the allocated time has elapsed
		}
	}
	return count;
}
//this submits the progress of the user when the allocated time has elapsed
//It does so WITHOUT asking whether the user wants to submit or not
//consequently, 0 is recorded for any unanswered question in this case

function submitWithout(){
	error.style.display = "none";
	let result = displayResult();
	let percent = Math.round((result/quesList.length)*100);
	displayArea.style.setProperty("align-items","center");
	displayArea.style.setProperty("padding-bottom","0px");
	displayArea.style.setProperty("padding-left","0px");
	displayArea.innerHTML= `<p>You answered ${result} of ${quesList.length} questions correctly.</p><br><br>`;
	displayArea.innerHTML+= `<p>Your score is <span style="font-size:1.5rem; font-weight:bolder;">${percent}%</span></p>`;
	document.querySelector("#ctn-retake").style.display = "block";
	document.querySelector("nav").style.visibility = "hidden";
	prev.style.visibility = "hidden";
	send.style.display = "hidden";
}

send.addEventListener("click",() => {
	if(quesList[pos].length == 6){			//this question has not been answered, you still have the time to do this
		error.style.display = "block";		//then, an error message pops up to tell you this
	}
	else{
		error.style.display = "none";
		document.querySelector("#confirmation").style.visibility = "visible";	//if all questions were answered, confirmation page pops us ready for submission
	}
})

//this always renders or displays the first questions, in fact it initiates the test
function render(chosen){
	quesList = chosen;				//refer to the chosen subject
	question = quesList[pos][0];
	optionA = quesList[pos][1];
	optionB = quesList[pos][2];
	optionC = quesList[pos][3];
	optionD = quesList[pos][4];
	
	document.querySelector(".subject-title").innerHTML = subject.toUpperCase();

	displayArea.style.setProperty("align-items","flex-start");
	displayArea.style.setProperty("justifity-content","flex-start");
	displayArea.style.setProperty("padding-top","30px");
	displayArea.style.setProperty("font-weight","bold");
	displayArea.innerHTML = "";
	 if(subject == "ENGLISH LANGUAGE"){					//pass in the instruction for English only
		displayArea.innerHTML = `<p style="font-style:italic; font-weight:light; margin-bottom:8px;">For questions 1 to 10, choose the option that is <span style="font-style:normal; font-weight:bolder;">most nearly opposite</span> in meaning to the underlined word as it is used in the sentence</p>`;
	}
				
	displayArea.innerHTML+= `<div style="display:flex; width:100%;line-height:1.6;"><div>${pos + 1}.</div><div style="overflow-wrap:break-word;  line-spacing:2px; text-indent:10px;">${question}</div></div>`;
																									//						^
																									//						^
																									//this ensures the text are always contained in their container
	displayArea.innerHTML+= `<p style="margin-left:20px; margin-top:20px;"><input type="radio" name="choices" value="A" id="first"><label for= "first">${optionA}</label></p>`;
	displayArea.innerHTML+= `<p style="margin-left:20px; margin-top:20px;"><input type="radio" name="choices" value="B" id="second"><label for="second">${optionB}</label></p>`;
	displayArea.innerHTML += `<p style="margin-left:20px; margin-top:20px;"><input type="radio" name="choices" value="C" id="third"><label for= "third">${optionC}</label></p>`;
	displayArea.innerHTML += `<p style="margin-left:20px; margin-top:20px;"><input type="radio" name="choices" value="D" id="fourth"><label for="fourth">${optionD}</label></p>`;
	document.querySelector("nav").style.visibility = "visible";
	page.innerHTML = (pos+1)+"\t\tof\t\t"+quesList.length; 
	prev.style.visibility = "hidden";
	
	startTimer(allocatedTime * 60);									//allocate time for the test and start reading in countdown fashion
}

start.addEventListener("click", () => {chooseQuest(subject);})	//use the subject chosen

function chooseQuest(subj){
	switch(subj){
		case "ENGLISH LANGUAGE":
			render(qEnglish);
			break;
		case "MATHEMATICS":
			render(qMaths);
			break;
		case "COMPUTER STUDIES":
			render(qComputer);
			break;
		case "BASIC TECHNOLOGY":
			render(qBasicTech);
			break;
		case "BASIC SCIENCE":
			render(qBasicScience);
			break;
	}
};

 //this supplies the questions to the display area subsequently
function displayQuestion(sign){
	sign == "-"? pos-- : pos++;		//the sign controls the next and previous buttons
	question = quesList[pos][0];
	optionA = quesList[pos][1];
	optionB = quesList[pos][2];
	optionC = quesList[pos][3];
	optionD = quesList[pos][4];
	displayArea.style.setProperty("align-items","flex-start");
	displayArea.style.setProperty("justifity-content","flex-start");
	displayArea.style.setProperty("padding-top","30px");
	displayArea.style.setProperty("font-weight","bold");
	displayArea.innerHTML = "";
	if(subject == "ENGLISH LANGUAGE"){
		switch(pos){			//pass in the corresponding instructions at each section for English only
			case 10:
				displayArea.innerHTML = `<p style="font-style:italic; font-weight:light; margin-bottom:8px;">For questions 11 to 18, choose the option that <span style="font-style:normal; font-weight:bolder;">best completes</span> each of the following sentences</p><br>`;
				break;
			case 18:
				displayArea.innerHTML = `<p style="font-style:italic; font-weight:light; margin-bottom:8px;">For questions 19 to 26, choose the option that is <span style="font-style:normal; font-weight:bolder;">nearest in meaning</span> to the underlined word as it is used in the sentence</p><br>`;
				break;
			case 26:
				displayArea.innerHTML = `<p style="font-style:italic; font-weight:light; margin-bottom:8px;">For questions 27 to 30, choose the option that <span style="font-style:normal; font-weight:bolder;">best completes</span> each of the following sentences</p><br>`;
				break;
		}	
	}
	displayArea.innerHTML += `<div style="display:flex; width:100%;line-height:1.6;"><div>${pos + 1}.</div><div style="overflow-wrap:break-word;  line-spacing:2px; text-indent:10px;">${question}</div></div>`;
	displayArea.innerHTML += `<p style="margin-left:20px; margin-top:20px;"><input type="radio" name="choices" value="A" id="first"><label for= "first">${optionA}</label></p>`;
	displayArea.innerHTML += `<p style="margin-left:20px; margin-top:20px;"><input type="radio" name="choices" value="B" id="second"><label for="second">${optionB}</label></p>`;
	displayArea.innerHTML += `<p style="margin-left:20px; margin-top:20px;"><input type="radio" name="choices" value="C" id="third"><label for= "third">${optionC}</label></p>`;
	displayArea.innerHTML += `<p style="margin-left:20px; margin-top:20px;"><input type="radio" name="choices" value="D" id="fourth"><label for="fourth">${optionD}</label></p>`;
	if(quesList[pos].length == 8){
		let userChoice = document.querySelectorAll("input")[quesList[pos][quesList[pos].length - 1]];
		userChoice.setAttribute("checked", true);
	}
	page.innerHTML = "\t\t"+(pos+1)+"\t\tof\t\t"+quesList.length+"\t\t"; 
}

next.addEventListener("click",function(){
	if (pos < quesList.length) {		//as long as there are still questions to be answered, move
		let error = document.querySelector("#error");
		if(quesList[pos].length == 6){				//this question has not been answered yet
			prev.style.visibility = "visible";
			error.style.display = "block";			//the error message remains there until you answer the question
			if(!pos){								//if this is the first question,
				prev.style.visibility = "hidden";	//there is nothing to go back to
			}
		}
		else{
			error.style.display = "none";			//ok this has been answered
			prev.style.visibility = "visible";
			displayQuestion("+");					//move to the next question
		}
		
	}
	if (pos == quesList.length - 1) {		//if this is the last question, 
		next.style.display = "none";		//there is nothing to look forward to
		prev.style.visibility = "visible";
		send.style.display = "block";		//ok this is the last question, then the submit button appears, waiting to be clicked to submit
	}
});

prev.addEventListener("click", function() {
	if (pos > 0) {					//as long as there are still more behind,
		displayQuestion("-");		//go back to the previous question
		next.style.display = "initial";
	}
	if(pos == 0){							//if this is the first question,
		prev.style.visibility = "hidden";	//there is nothing to go back to
		next.style.display = "initial";		//we have something to look forward to instead
	}
	let error = document.querySelector("#error");	
	error.style.display = "none";					
	send.style.display = "none";
	
});

function startTimer(duration){
	let timer = document.querySelector(".timer");
	let hour = 0;
	let min = 0;
	let sec = 0;
	for(let x = duration; x >= 0; x--){
		timeOut = setTimeout(function(){
			sec = x % 60;
			min = Math.floor(x/60);
			if(min % 60 == 0){
				min = 0;
			}
			else{
				min = min % 60;
			}
			hour = Math.floor(x/3600);
			if(x < 30){
				timer.classList.add("end");		//change the color of the timer
			}
			hour = hour < 10 ? "0"+ hour : hour;
			min = min < 10 ? "0"+ min : min;
			sec = sec < 10 ? "0"+ sec : sec;
			timer.innerHTML = `${hour}:${min}:${sec}`;
			if(x == 0 && !submitted){
				submitWithout();			//when the time is up and the user has not submitted, submit for the user
				clearTimeout(timeOut);
			}
			else if(submitted){
				clearTimeout(timeOut);
				timer.classList.add("end");	
				timer.innerHTML = "00:00:00";
			}
		}, (duration - x)*1000);							//since this is a countdown timer, subtract the current value of x from the time allocated to
															//determine how long it will wait to be executed
	}
}
